function factor(){function t(t){r.appendChild(document.createTextNode(t))}var e=numberElem.value;if(e!=lastInput){lastInput=e,factorization0Text.data="";var r=document.getElementById("factorization1");clearChildren(r),r.appendChild(document.createTextNode(NBSP));var a=document.createElement("sup");if(a.appendChild(document.createTextNode(NBSP)),r.appendChild(a),!/^-?\d+$/.test(e))return void(factorization0Text.data="Not an integer");var n=parseInt(e,10);if(n<2)factorization0Text.data="Number out of range (< 2)";else if(n>=9007199254740992)factorization0Text.data="Number too large";else{var o=primeFactorList(n),i=toFactorPowerList(o);factorization0Text.data=n+" = "+o.join(" "+TIMES+" "),i.length<o.length&&(clearChildren(r),t(n+" = "),i.forEach(function(e,a){if(0!=a&&t(" "+TIMES+" "),t(e[0].toString()),e[1]>1){var n=document.createElement("sup");n.appendChild(document.createTextNode(e[1].toString())),r.appendChild(n)}}))}}}function primeFactorList(t){if(t<1)throw"Argument error";for(var e=[];1!=t;){var r=smallestFactor(t);e.push(r),t/=r}return e}function smallestFactor(t){if(t<2)throw"Argument error";if(t%2==0)return 2;for(var e=Math.floor(Math.sqrt(t)),r=3;r<=e;r+=2)if(t%r==0)return r;return t}function toFactorPowerList(t){for(var e=[],r=t[0],a=1,n=1;n<t.length;n++)t[n]==r?a++:(e.push([r,a]),r=t[n],a=1);return e.push([r,a]),e}function clearChildren(t){for(;null!=t.firstChild;)t.removeChild(t.firstChild)}var numberElem=document.getElementById("number"),factorization0Text=document.createTextNode("");document.getElementById("factorization0").appendChild(factorization0Text);var lastInput="";document.getElementById("random").onclick=function(){document.getElementById("number").value=Math.floor(10*Math.pow(1e3,Math.random())).toString(),factor()};var TIMES="×",NBSP=" ";